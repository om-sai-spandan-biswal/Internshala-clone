<%- include('partials/header') %>

<div class="container">
  <h2 class="text-center" style="margin: 30px 0;">Your Posted Jobs</h2>

  <% if (jobs.length === 0) { %>
    <p class="text-center">You have not posted any jobs yet.</p>
    <div class="text-center" style="margin-top: 20px;">
      <a href="/jobs/post" class="btn btn-primary">Post a New Job</a>
    </div>
  <% } else { %>
    <table class="job-table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Location</th>
          <th>Applicants</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% jobs.forEach(job => { %>
          <tr>
            <td><%= job.title %></td>
            <td><%= job.location %></td>
            <td>
              <a href="/jobs/<%= job._id %>/applicants" class="action-btn view-btn">View</a>
            </td>
            <td>
              <a href="/jobs/<%= job._id %>/edit" class="action-btn accept-btn">Edit</a>
              <form action="/jobs/<%= job._id %>?_method=DELETE" method="POST" style="display:inline;">
                <button type="submit" class="action-btn reject-btn" onclick="return confirm('Are you sure you want to delete this job?')">Delete</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</div>

<%- include('partials/footer') %>
