<%- include('partials/header') %>

<div class="container">
  <h2 class="text-center">Your Posted Jobs</h2>

  <% if (jobs.length === 0) { %>
    <p class="text-center">You have not posted any jobs yet.</p>
    <div  class="text-center"><a href="/jobs/post" class="btn">Post a New Job</a></div>
  <% } else { %>
    <table class="job-table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Location</th>
          <th>Applicants</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% jobs.forEach(job => { %>
          <tr>
            <td><%= job.title %></td>
            <td><%= job.location %></td>
            <td><a href="/jobs/<%= job._id %>/applicants">View</a></td>
            <td>
              <a href="/jobs/<%= job._id %>/edit">Edit</a> |
              <form action="/jobs/<%= job._id %>?_method=DELETE" method="POST" style="display:inline;">
                <button type="submit" class="link-button" onclick="return confirm('Are you sure?')">Delete</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</div>

<%- include('partials/footer') %>
